<h1><a id="user-content-s3-upload-streams" class="deep-link" href="#s3-upload-streams"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3-upload-streams</h1>
<p>A thin and fast wrapper on the top <a href="https://www.npmjs.com/package/aws-sdk">aws-sdk</a> S3 functionality. It gives you a cleaner way to stream and partition your data to S3 utilizing the full power of <a href="https://nodejs.org/api/stream.html#stream_readable_streams">nodejs stream. Readable</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">JavaScript Promises</a> for controlling your application flow.</p>
<p>You can see some basic usage examples <a href="https://github.com/elsix/s3-upload-streams-demo">here</a></p>
<h1><a id="user-content-benefits" class="deep-link" href="#benefits"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Benefits</h1>
<p>Using nodejs streams gives you a standard way of manipulating data streams. You can keep your memory footprint low by piping directly to S3Uplaoder using <a href="https://nodejs.org/api/stream.html#stream_class_stream_passthrough">PassThrough streams</a>. You can encrypt or compress data on the fly using standard <a href="https://nodejs.org/api/crypto.html">crypto</a> and <a href="https://nodejs.org/api/zlib.html">zlib</a> modules.
For maximum flexibility you provide the Readable streams directly to the S3Uploader instance. That way you can pipe transform and handler errors in the good old fashion way and the stream throttling and synchronization for free. The only thing that you must not do is to add stream into flowing and object mode, because you can't read data blocks in that modes. But of course you can pipe that kind of streams to a PassThrough stream and will get the synchronization for free again. That means you can't call <code>stream.resume()</code> and pass <code>objectMode=true</code> to the stream that you pass to S3Uploader instance. But you can make something like that <code>objectStream.pipe(passThroughStream)</code> and then pass passThroughStream to S3Uploader instance.</p>
<h1><a id="user-content-installation" class="deep-link" href="#installation"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h1>
<p>For now you can install this package directly from git hub using:</p>
<p class="badge-only"><code>npm i --save s3-upload-streams</code></p>
<h1><a id="user-content-basic-usage" class="deep-link" href="#basic-usage"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic Usage</h1>
<div class="highlight"><pre class="editor editor-colors"><div class="line"><span class="text"><span>  let Uploader = require('s3-upload-streams');</span></span></div><div class="line"><span class="text"><span>  let someFilePath = 'foo.txt';</span></span></div><div class="line"><span class="text"><span>  let s3Uploader = new Uploader(s3, bucket, partSize, maxConcurentUploads);</span></span></div><div class="line"><span class="text"><span>  let stream = fs.createReadStream(someFilePath);</span></span></div><div class="line"><span class="text"><span>  let uploadIdPromise = s3Uploader.startUpload({ Key: 'Amazon S3 Object Key' }, stream, { orginalPath: someFilePath });</span></span></div><div class="line"><span class="text"><span> </span></span></div><div class="line"><span class="text"><span>  stream.on('end', () =&gt; {</span></span></div><div class="line"><span class="text"><span>    uploadIdPromise</span></span></div><div class="line"><span class="text"><span>    .then(uploadId =&gt; s3Uploader.completeUpload(uploadId))</span></span></div><div class="line"><span class="text"><span>    .then((metadata) =&gt; {</span></span></div><div class="line"><span class="text"><span>      console.log(`Uploaded ${metadata.additionalMetadata.orginalPath} to ${metadata.location}`);</span></span></div><div class="line"><span class="text"><span>      currentUploads = currentUploads - 1;</span></span></div><div class="line"><span class="text"><span>      tryNext();</span></span></div><div class="line"><span class="text"><span>    })</span></span></div><div class="line"><span class="text"><span>    .catch(err =&gt; console.log(err));</span></span></div><div class="line"><span class="text"><span>  });</span></span></div></pre></div>
<h2><a id="user-content-constructors3-bucket-partsize-concurrency" class="deep-link" href="#constructors3-bucket-partsize-concurrency"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>constructor(s3, bucket, partSize, concurrency)</h2>
<p>Initialize new S3Uploader.</p>
<h3><a id="user-content-params" class="deep-link" href="#params"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>s3</strong> - Instance of Amazon <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html">aws-sdk s3</a></p>
<p><strong>bucket</strong> - Name of the bucket that you want to upload to. This can be overwritten per upload object using s3Params parameter of startUpload method.</p>
<p><strong>partSize</strong> - The size of data chunk that will be read from the stream and will be passed to Amazon uploader. You can use this to optimize upload speed and memory usage.</p>
<p><strong>concurrency</strong> - Maximum number of concurrent Amazon uploads that can be done.</p>
<h2><a id="user-content-s3uploaderstartuploads3params-readable-additionalmetadata-partialuploadparams" class="deep-link" href="#s3uploaderstartuploads3params-readable-additionalmetadata-partialuploadparams"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.startUpload(s3Params, readable, additionalMetadata, partialUploadParams)</h2>
<p>Initialize new object upload in this s3Uploader instance.</p>
<h3><a id="user-content-params-1" class="deep-link" href="#params-1"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>s3Params</strong> - Instance of <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createMultipartUpload-property">createMultipartUpload params</a> passed directly to Amazon. You can see the full list of parameters in Amazon's documentation.</p>
<p><strong>readable</strong> - Instance of <a href="https://nodejs.org/api/stream.html">nodes Readable, Duplex or Transform stream</a>. Please be aware that the stream must be in <a href="https://nodejs.org/api/stream.html#stream_two_modes">paused</a> and must not be in <a href="https://nodejs.org/api/stream.html#stream_object_mode">object mode</a>. Please see the Benefits section for more details.</p>
<p><strong>additionalMetadata</strong> - Metadata that will be passed back to you when you complete the current upload.</p>
<p><strong>partialUploadParams</strong> - Hash of additional parameters that you can pass if you want to manipulate partially uploaded object that is not initiated by this s3Uploader. Available params are:</p>
<p><em>UploadId</em> - UploadId of already started <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createMultipartUpload-property">multipartUpload</a></p>
<p><em>Parts</em> - List of already uploaded parts of this object. The uploaded will use this list when it completes the upload.
Please see Advanced Usage section for more information.</p>
<h2><a id="user-content-s3uploadercompleteuploadid" class="deep-link" href="#s3uploadercompleteuploadid"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.completeUpload(id)</h2>
<p>Complete this object upload.</p>
<h3><a id="user-content-params-2" class="deep-link" href="#params-2"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>id</strong> - id of the current upload returned by startUpload method.</p>
<h3><a id="user-content-returns" class="deep-link" href="#returns"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returns</h3>
<p>Metadata a promise that resolves to uploaded object metadata. Available information is:</p>
<p><strong>location</strong> - URL of this object.</p>
<p><strong>bucket</strong> - The S3 Bucket.</p>
<p><strong>key</strong> - The key in the S3.</p>
<p><strong>etag</strong> - Entity tag of the object.</p>
<p><strong>additionalMetadata</strong> - The metadata that you passed in startUpload.</p>
<p><strong>size</strong> - Size in bytes.</p>
<h2><a id="user-content-s3uploaderabortuploadid" class="deep-link" href="#s3uploaderabortuploadid"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.abortUpload(id)</h2>
<p>Abort this object upload.</p>
<h3><a id="user-content-params-3" class="deep-link" href="#params-3"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>id</strong> - id of the current upload returned by startUpload method.</p>
<h3><a id="user-content-returns-1" class="deep-link" href="#returns-1"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returns</h3>
<p>A promise that resolves to <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#abortMultipartUpload-property">abortMultipartUpload</a> response.</p>
<h2><a id="user-content-s3uploadercomplateall" class="deep-link" href="#s3uploadercomplateall"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.complateAll()</h2>
<p>Complete all uploads started by this s3-upload-streams instance.</p>
<h3><a id="user-content-returns-2" class="deep-link" href="#returns-2"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returns</h3>
<p>A promise that resolves to a list of all completed uploads metadata. See complateUpload documentation for more information.</p>
<h2><a id="user-content-s3uploaderabortall" class="deep-link" href="#s3uploaderabortall"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.abortAll()</h2>
<p>Abort all uploads started by this s3-upload-streams instance.</p>
<h3><a id="user-content-returns-3" class="deep-link" href="#returns-3"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returns</h3>
<p>A promise that resolves to a list of all abortUpload responses.</p>
<h1><a id="user-content-advanced-usage" class="deep-link" href="#advanced-usage"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Usage</h1>
<p>As s3-stream-uploader was designed to cover as many cases as possible we decided to add some methods for more complex cases in which you want to upload same S3Object using multiple processes and S3 up loaders.</p>
<h2><a id="user-content-s3uploaderawsuploadidid" class="deep-link" href="#s3uploaderawsuploadidid"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.awsUploadId(id)</h2>
<p>Returns a promise that resolves to <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createMultipartUpload-property">aws-sdk s3 UploadId</a> which can be used to manipulate S3 object directly if you have to.</p>
<h3><a id="user-content-params-4" class="deep-link" href="#params-4"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>id</strong> - id of the current upload returned by startUpload method.</p>
<h2><a id="user-content-s3uploaderawspartsid" class="deep-link" href="#s3uploaderawspartsid"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>s3Uploader.awsParts(id)</h2>
<p>Returns a list of object parts that have been uploaded through this s3Uploader. You can see an example usage <a href="https://github.com/elsix/s3-upload-streams-demo/blob/master/big-file-upload.js">here</a></p>
<h3><a id="user-content-params-5" class="deep-link" href="#params-5"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Params</h3>
<p><strong>id</strong> - id of the current upload returned by startUpload method.</p>
<h1><a id="user-content-limitations" class="deep-link" href="#limitations"><svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limitations</h1>
<ul>
<li><a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html">S3 Multipart Upload</a> upload supports parts smaller than 5MB(5242880 Bytes) except for the last part of the object, so the minimal value of partSize parameter is 5242880.</li>
<li>Library is written using ES6 class syntax and I don't have plans to make a port for ES5.</li>
</ul>
